// components/BottomNav.jsx
'use client';

import { Box, Typography } from '@mui/material';
import { useRouter, usePathname } from 'next/navigation';

const BottomNav = () => {
  const router = useRouter();
  const pathname = usePathname();

  const navItems = [
    { 
      label: 'Home', 
      path: '/home', 
      icon: (color) => (
        <svg width="23" height="19" viewBox="0 0 23 19" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M21.75 17.2502H20.25V10.5002L20.4694 10.7196C20.6104 10.8603 20.8015 10.9393 21.0007 10.9391C21.1999 10.939 21.3908 10.8597 21.5316 10.7187C21.6723 10.5777 21.7513 10.3866 21.7511 10.1874C21.7509 9.98819 21.6716 9.79722 21.5306 9.65649L12.3103 0.438992C12.029 0.1579 11.6477 0 11.25 0C10.8523 0 10.471 0.1579 10.1897 0.438992L0.969375 9.65649C0.828769 9.79722 0.749827 9.98805 0.749914 10.187C0.750002 10.3859 0.829113 10.5767 0.969844 10.7173C1.11057 10.8579 1.3014 10.9368 1.50033 10.9367C1.69927 10.9366 1.89002 10.8575 2.03062 10.7168L2.25 10.5002V17.2502H0.75C0.551088 17.2502 0.360322 17.3293 0.21967 17.4699C0.0790176 17.6106 0 17.8013 0 18.0002C0 18.1992 0.0790176 18.3899 0.21967 18.5306C0.360322 18.6712 0.551088 18.7502 0.75 18.7502H21.75C21.9489 18.7502 22.1397 18.6712 22.2803 18.5306C22.421 18.3899 22.5 18.1992 22.5 18.0002C22.5 17.8013 22.421 17.6106 22.2803 17.4699C22.1397 17.3293 21.9489 17.2502 21.75 17.2502ZM13.5 17.2502H9V12.7502C9 12.6508 9.03951 12.5554 9.10983 12.4851C9.18016 12.4148 9.27554 12.3752 9.375 12.3752H13.125C13.2245 12.3752 13.3198 12.4148 13.3902 12.4851C13.4605 12.5554 13.5 12.6508 13.5 12.7502V17.2502Z" fill={color}/>
        </svg>
      )
    },
    { 
      label: 'Community', 
      path: '/community',
      icon: (color) => (
        <svg width="23" height="17" viewBox="0 0 23 17" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M5.2598 9.36079C5.26234 9.41159 5.25452 9.46238 5.23682 9.51006C5.21911 9.55774 5.19189 9.60133 5.15682 9.63816C5.12174 9.67499 5.07953 9.7043 5.03277 9.72431C4.986 9.74432 4.93566 9.7546 4.8848 9.75454H0.748545C0.579266 9.75479 0.414878 9.69778 0.282114 9.59276C0.14935 9.48774 0.056018 9.34089 0.0172955 9.1761C-0.00681612 9.06331 -0.00570458 8.94658 0.0205505 8.83426C0.0468056 8.72195 0.0975555 8.61683 0.16917 8.52641C0.830897 7.64892 1.70884 6.958 2.7173 6.5211C2.27454 6.11742 1.93496 5.61352 1.72699 5.0516C1.51903 4.48969 1.44873 3.88613 1.522 3.29146C1.59526 2.69679 1.80995 2.12834 2.14808 1.63371C2.48622 1.13908 2.93795 0.732668 3.46545 0.44852C3.99295 0.164373 4.58085 0.0107591 5.17993 0.000545023C5.779 -0.00966907 6.3718 0.123814 6.90868 0.389814C7.44556 0.655814 7.91089 1.04659 8.26569 1.5294C8.62048 2.01222 8.85443 2.57303 8.94792 3.16485C8.95999 3.24444 8.94574 3.32579 8.90732 3.39652C8.86891 3.46726 8.80843 3.52352 8.73511 3.55673C7.69485 4.03764 6.81386 4.80608 6.19608 5.77136C5.57831 6.73664 5.24953 7.85849 5.24855 9.00454C5.24855 9.12454 5.24855 9.24266 5.2598 9.36079ZM22.3223 8.52547C21.6621 7.64897 20.7862 6.95842 19.7798 6.5211C20.2225 6.11742 20.5621 5.61352 20.7701 5.0516C20.9781 4.48969 21.0484 3.88613 20.9751 3.29146C20.9018 2.69679 20.6871 2.12834 20.349 1.63371C20.0109 1.13908 19.5591 0.732668 19.0316 0.44852C18.5041 0.164373 17.9162 0.0107591 17.3172 0.000545023C16.7181 -0.00966907 16.1253 0.123814 15.5884 0.389814C15.0515 0.655814 14.5862 1.04659 14.2314 1.5294C13.8766 2.01222 13.6427 2.57303 13.5492 3.16485C13.5371 3.24444 13.5514 3.32579 13.5898 3.39652C13.6282 3.46726 13.6887 3.52352 13.762 3.55673C14.8022 4.03764 15.6832 4.80608 16.301 5.77136C16.9188 6.73664 17.2476 7.85849 17.2485 9.00454C17.2485 9.12454 17.2485 9.24266 17.2373 9.36079C17.2348 9.41159 17.2426 9.46238 17.2603 9.51006C17.278 9.55774 17.3052 9.60133 17.3403 9.63816C17.3754 9.67499 17.4176 9.7043 17.4643 9.72431C17.5111 9.74432 17.5614 9.7546 17.6123 9.75454H21.7485C21.9178 9.75479 22.0822 9.69778 22.215 9.59276C22.3477 9.48774 22.4411 9.34089 22.4798 9.1761C22.5041 9.0631 22.5029 8.94613 22.4765 8.83361C22.4501 8.7211 22.399 8.61586 22.327 8.52547H22.3223ZM13.9785 12.5736C14.7253 12.0017 15.2741 11.2102 15.5478 10.3102C15.8214 9.41034 15.8062 8.44729 15.5043 7.55647C15.2024 6.66564 14.6289 5.89182 13.8645 5.34376C13.1 4.7957 12.1831 4.50096 11.2425 4.50096C10.3018 4.50096 9.38489 4.7957 8.62045 5.34376C7.85601 5.89182 7.28252 6.66564 6.98059 7.55647C6.67866 8.44729 6.66346 9.41034 6.93713 10.3102C7.21081 11.2102 7.75959 12.0017 8.50636 12.5736C7.18124 13.1478 6.07473 14.1311 5.34886 15.3795C5.28302 15.4936 5.24837 15.6229 5.24838 15.7546C5.24838 15.8862 5.28305 16.0156 5.3489 16.1296C5.41475 16.2436 5.50945 16.3383 5.62349 16.4041C5.73752 16.4699 5.86688 16.5046 5.99855 16.5045H16.4985C16.6302 16.5046 16.7596 16.4699 16.8736 16.4041C16.9876 16.3383 17.0823 16.2436 17.1482 16.1296C17.214 16.0156 17.2487 15.8862 17.2487 15.7546C17.2487 15.6229 17.2141 15.4936 17.1482 15.3795C16.4208 14.1302 15.3122 13.1469 13.9851 12.5736H13.9785Z" fill={color}/>
        </svg>
      )
    },
    { 
      label: 'Explore', 
      path: '/explore',
      icon: (color) => (
        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M13.5 8.25563C13.5 9.29398 13.1921 10.309 12.6152 11.1724C12.0384 12.0357 11.2184 12.7086 10.2591 13.106C9.2998 13.5034 8.24421 13.6073 7.22581 13.4048C6.20741 13.2022 5.27194 12.7022 4.53772 11.9679C3.80349 11.2337 3.30348 10.2983 3.10091 9.27986C2.89833 8.26146 3.0023 7.20586 3.39966 6.24654C3.79702 5.28723 4.46993 4.46729 5.33329 3.89042C6.19664 3.31354 7.21168 3.00563 8.25003 3.00563C9.64242 3.00563 10.9778 3.55876 11.9623 4.54332C12.9469 5.52789 13.5 6.86325 13.5 8.25563ZM19.2807 19.2863C19.211 19.356 19.1283 19.4113 19.0372 19.4491C18.9462 19.4868 18.8486 19.5062 18.75 19.5062C18.6515 19.5062 18.5539 19.4868 18.4628 19.4491C18.3718 19.4113 18.2891 19.356 18.2194 19.2863L13.5263 14.5922C11.8942 15.95 9.80149 16.6263 7.68346 16.4805C5.56543 16.3347 3.58514 15.378 2.15449 13.8094C0.723836 12.2408 -0.0470337 10.1811 0.00222314 8.05859C0.05148 5.93613 0.917071 3.91435 2.41895 2.41379C3.92083 0.913242 5.94337 0.0494381 8.06588 0.00205703C10.1884 -0.045324 12.2475 0.727366 13.8148 2.1594C15.3822 3.59144 16.3371 5.57258 16.481 7.69073C16.6249 9.80889 15.9468 11.901 14.5875 13.5319L19.2807 18.225C19.3504 18.2947 19.4057 18.3774 19.4434 18.4684C19.4812 18.5595 19.5006 18.6571 19.5006 18.7556C19.5006 18.8542 19.4812 18.9518 19.4434 19.0428C19.4057 19.1339 19.3504 19.2166 19.2807 19.2863ZM8.25003 15.0056C9.58505 15.0056 10.8901 14.6098 12.0001 13.8681C13.1102 13.1264 13.9753 12.0721 14.4862 10.8387C14.9971 9.60534 15.1308 8.24814 14.8703 6.93877C14.6099 5.6294 13.967 4.42667 13.023 3.48266C12.079 2.53866 10.8763 1.89578 9.56689 1.63533C8.25752 1.37488 6.90032 1.50855 5.66692 2.01945C4.43351 2.53034 3.37931 3.3955 2.63761 4.50553C1.89591 5.61556 1.50003 6.92061 1.50003 8.25563C1.50201 10.0452 2.21381 11.761 3.47925 13.0264C4.74469 14.2919 6.46043 15.0036 8.25003 15.0056Z" fill={color}/>
        </svg>
      )
    },
    { 
      label: 'Profile', 
      path: '/profile', 
      icon: (color) => (
        <svg width="20" height="19" viewBox="0 0 20 19" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M19.3989 18.3776C19.3331 18.4916 19.2384 18.5863 19.1243 18.6521C19.0103 18.7179 18.8809 18.7526 18.7492 18.7526H0.749231C0.617644 18.7524 0.488408 18.7177 0.374501 18.6518C0.260593 18.5859 0.166024 18.4912 0.100289 18.3772C0.0345535 18.2632 -3.37577e-05 18.1339 2.47235e-08 18.0024C3.38072e-05 17.8708 0.0346874 17.7415 0.100481 17.6276C1.52829 15.1591 3.72861 13.3891 6.29642 12.5501C5.02626 11.7939 4.03943 10.6417 3.48747 9.27048C2.93551 7.89922 2.84894 6.38468 3.24105 4.95945C3.63316 3.53422 4.48228 2.27711 5.658 1.38117C6.83373 0.485228 8.27105 0 9.74923 0C11.2274 0 12.6647 0.485228 13.8405 1.38117C15.0162 2.27711 15.8653 3.53422 16.2574 4.95945C16.6495 6.38468 16.563 7.89922 16.011 9.27048C15.459 10.6417 14.4722 11.7939 13.202 12.5501C15.7699 13.3891 17.9702 15.1591 19.398 17.6276C19.464 17.7415 19.4988 17.8708 19.4989 18.0024C19.4991 18.1341 19.4646 18.2635 19.3989 18.3776Z" fill={color}/>
        </svg>
      )
    },
  ];

  return (
    <Box sx={{
      // ✅ Visible only on mobile phones (≤ 425px)
      // ✅ Hidden on everything larger (Tablet, Desktop, Laptop)
      display: { xs: 'flex', '@media (min-width:426px)': 'none' }, 
      position: 'fixed',
      bottom: 0,
      left: 0,
      width: '100%',
      height: '75px',
      bgcolor: '#fff',
      justifyContent: 'space-around',
      alignItems: 'center',
      pb: 1,
      zIndex: 1000,
    }}>
      {navItems.map((item) => {
        const isActive = pathname.startsWith(item.path);
        const itemColor = isActive ? '#4167F2' : '#949494';
        
        return (
          <Box 
            key={item.label} 
            onClick={() => router.push(item.path)}
            sx={{ 
              display: 'flex', 
              flexDirection: 'column', 
              alignItems: 'center',
              cursor: 'pointer',
              flex: 1,
              gap: '6px'
            }}
          >
            {item.icon(itemColor)}
            
            <Typography sx={{ 
              fontSize: '12px', 
              fontFamily: '"Outfit", sans-serif',
              fontWeight: isActive ? 600 : 400,
              color: itemColor,
              textTransform: 'none'
            }}>
              {item.label}
            </Typography>
          </Box>
        );
      })}
    </Box>
  );
};

export default BottomNav;  